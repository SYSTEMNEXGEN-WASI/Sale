
@{
    ViewBag.Title = "Vendor";
    Layout = "~/Views/Shared/_LayoutV2.cshtml";
}

<h2>Vendor</h2>


<style>
    .bacground-color-hthelper {
        background-color: #c4e66d;
    }

    .table > tbody > tr > td {
        padding: 5px;
    }

    .makespace {
        margin-bottom: 20px;
    }

    .mandatory {
        color: red;
        margin-left: 5px;
    }

    #VendorTable thead, #VendorTable tbody, #VendorTable tr, #VendorTable td, #VendorTable th {
        display: block;
    }

        #VendorTable tr:after {
            content: ' ';
            display: block;
            visibility: hidden;
            clear: both;
        }

        #VendorTable thead th {
            height: 40px;
        }

    #VendorTable tbody {
        height: 350px;
        overflow-y: auto;
    }

    thead {
        /* fallback */
    }

    #VendorTable tbody td, #VendorTable thead th {
        /*width: 10%;*/
        float: left;
    }
</style>
<link href='@Url.Content("~/assets/plugins/jquery-ui/smoothness/jquery-ui.min.css")' rel="stylesheet" type="text/css" media="screen" />
<link href='@Url.Content("~/assets/plugins/select2/select2.css")' rel="stylesheet" type="text/css" media="screen" />
<link href='@Url.Content("~/assets/plugins/select2/select2-bootstrap.css")' rel="stylesheet" type="text/css" media="screen" />
<link href='@Url.Content("~/assets/plugins/icheck/skins/minimal/blue.css")' rel="stylesheet" type="text/css" media="screen" />
<link href='@Url.Content("~/assets/css/chosen.css")' rel="stylesheet" type="text/css" />
<link href='@Url.Content("~/assets/css/bootstrap-select.css")' rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<section class="wrapper main-wrapper row" style="margin-top:0px;">


    <form method="post">
       
        <div class="col-xs-12">
            <section class="box">
                <header class="panel_header">
                    <h2 class="title pull-left">Vendor Profile</h2>
                    <div class="actions panel_actions pull-right">
                        <div class="col-md-10" id="message">
                            <p class="pull-right" style="color: #006400; text-align: right">@TempData["success"]</p>
                        </div>
                        <a class="box_toggle fa fa-chevron-down"></a>
                    </div>
                </header>


                <div class="content-body">
                    <div class="row" style="margin-bottom:1rem;">
                        <div class="row" style="margin-bottom:1rem;margin-left:0px;">
                            <div class="col-md-4">
                                <label class="form-label">Vendor Code</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><a id="IssueClick" onclick="ShowModal('Vendor')" style="color:blue"><i class="fa fa-search"></i></a></span>
                                    <input type="text" class="form-control" id="ddlVendors" name="CusCode" readonly />
                                    @*@Html.DropDownList("ddlVendors", new SelectList((IEnumerable<SelectListItem>)ViewBag.Vendors, "Value", "Text", "0"), new { @class = "form-control", @id = "ddlVendors" })*@
                                </div>
                                <div class="makespace"></div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label class="form-label">Vendor<span class="mandatory">*</span></label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input type="text" class="form-control" id="txtCusDesc" name="CusDesc" maxlength="50" />
                            </div>
                            <div class="makespace"></div>
                        </div>
                        @*<div class="col-md-4">
                                <label class="form-label">Contact Person<span class="mandatory">*</span></label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" id="txtVendorTitle" name="CusDesc" maxlength="50" />
                                </div>
                                <div class="makespace"></div>
                            </div>*@
                        <div class="col-md-4">
                            <label class="form-label">Contact Person<span class="mandatory">*</span></label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-phone-alt"></i></span>
                                <input type="text" class="form-control" id="txtContPerson" name="ContPerson" maxlength="50" />
                                @*@Html.TextBoxFor(model => model.ContPerson, new { @class = "form-control", @id = "ContPersonID" })*@
                            </div>
                            <div class="makespace"></div>
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">Credit Limit</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-credit-card"></i></span>
                                <input type="text" class="form-control" id="txtCreditLimit" name="CreditLimit" maxlength="10" />
                            </div>
                            <div class="makespace"></div>
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Vendor Type</label>
                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-users"></i></span>
                                <select class="form-control m-bot15" id="ddlCusType" name="ddlCusType">
                                    <option value="Vendor">Vendor</option>
                                    <option value="Supplier">Supplier</option>

                                </select>

                            </div>
                            <div class="makespace"></div>
                        </div>



                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="panel-group" id="accordion">

                                <div class="row">
                                    <div class="col-xs-12"></div>
                                    <ul class="nav nav-tabs primary" style="border-radius:0px;border-bottom: 0px;">
                                        <li class="active">
                                            <a href="#home-7" data-toggle="tab" style="border-radius:0px;">
                                                <i class="fa fa-car"></i> Contact Details
                                            </a>
                                        </li>
                                        <li>
                                            <a href="#OtherDetail" data-toggle="tab" style="border-radius:0px;">
                                                <i class="fa fa-car"></i> Other Details
                                            </a>
                                        </li>
                                        @*<li>
                                                <a href="#messages-7" data-toggle="tab">
                                                    <i class="fa fa-event"></i> Document Check List
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#settings-7" data-toggle="tab">
                                                    <i class="fa fa-car"></i> Vehicle Location
                                                </a>
                                            </li>*@
                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane fade in active" id="home-7">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label class="form-label">Address</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-home"></i></span>
                                                        <input type="text" class="form-control" id="txtAddress" name="Address1" maxlength="50" />
                                                        @*@Html.TextBoxFor(model => model.Address1, new { @class = "form-control", @id = "Address1ID" })*@
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>

                                                <div class="col-md-4">
                                                    <label class="form-label">Phone Number</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-phone-square"></i></span>
                                                        <input type="text" class="form-control" id="txtPhone1" name="Phone1" maxlength="15" onkeypress="return isCellNumberKey(event)" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>


                                                <div class="col-md-4">
                                                    <label class="form-label">Fax</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-fax"></i></span>
                                                        <input type="text" class="form-control" id="txtFaxNo" name="FaxNo" maxlength="15" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="form-label">Email</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-envelope-o"></i></span>
                                                        <input type="text" class="form-control" id="txtEmail" name="Email" maxlength="25" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="form-label">Url</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-anchor"></i></span>
                                                        <input type="text" class="form-control" id="txtURL" name="URL" maxlength="50" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>

                                                @*<div class="col-md-4" style="padding:2rem;">
                                                        <input type="checkbox" id="chkSameAs" class="chkBank icheckbox_minimal-blue" />
                                                        <label class="form-label">Same As</label>
                                                    </div>*@
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="OtherDetail">
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <label class="form-label">NTN</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-info-circle"></i></span>
                                                        <input type="text" class="form-control" id="txtNICNTN" name="NIC" maxlength="30" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="form-label">GST No.</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-info-circle"></i></span>
                                                        <input type="text" class="form-control" id="txtGSTno" name="GSTno" maxlength="30" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>

                                                <div class="col-md-4">
                                                    <label class="form-label">Payment Term</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><i class="fa fa-calendar-o"></i></span>
                                                        <input type="text" class="form-control" id="txtCreditDays" name="CreditDays" maxlength="10" />
                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>




                                                <div class="col-md-4">
                                                    <label class="form-label">Account Code*</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><a id="IssueClick" onclick="ShowModal('Account')" style="color:blue"><i class="fa fa-search"></i></a></span>
                                                        <input type="text" required class="form-control" style="width:100%" id="txtAccountCode" readonly onblur="ChangeColor(this)" />
                                                        @*<input type="text" required class="form-control" style="width:55%" id="txtAccountDesc" readonly onblur="ChangeColor(this)"/>*@

                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>

                                                <div class="col-md-4">
                                                    <label class="form-label">Vendor Payable</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><a id="IssueClick" onclick="ShowModal('AccountPay')" style="color:blue"><i class="fa fa-search"></i></a></span>
                                                        <input type="text" required class="form-control" style="width:100%" id="txtVendorPayable" readonly onblur="ChangeColor(this)" />
                                                        @*<input type="text" required class="form-control" style="width:55%" id="txtAccountDesc" readonly onblur="ChangeColor(this)"/>*@

                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="form-label">Vendor Recievable</label>
                                                    <div class="input-group">
                                                        <span class="input-group-addon"><a id="IssueClick" onclick="ShowModal('AccountRecieve')" style="color:blue"><i class="fa fa-search"></i></a></span>
                                                        <input type="text" required class="form-control" style="width:100%" id="txtVendorRecievable" readonly onblur="ChangeColor(this)" />
                                                        @*<input type="text" required class="form-control" style="width:55%" id="txtAccountDesc" readonly onblur="ChangeColor(this)"/>*@

                                                    </div>
                                                    <div class="makespace"></div>
                                                </div>


                                            </div>
                                        </div>


                                    </div>
































                                    @*<div class="panel panel-default">
                                            <div class="panel-heading">
                                                <h4 class="panel-title">
                                                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
                                                        <span class="glyphicon glyphicon-chevron-right"></span>
                                                        Contact Information
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="collapseTwo" class="panel-collapse collapse">
                                                <div class="panel-body">

                                                    <div class="row">
                                                        <div class="col-xs-12">
                                                            <ul class="nav nav-tabs nav-justified primary">
                                                                <li class="active">

                                                                </li>
                                                            </ul>
                                                            <div class="tab-content primary">
                                                                <div class="tab-pane fade in active" id="home-7">
                                                                    <div class="row">
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrCode</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-barcode"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRCode" name="Address1" readonly />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrName</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRDesc" name="Address1" maxlength="50" onblur="ChangeColor(this)" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>

                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrAddress</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-home"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRAddress" name="Address1" maxlength="50" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrCity</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-map-marker"></i></span>
                                                                                @Html.DropDownList("ddlGRCity", new SelectList((IEnumerable<SelectListItem>)ViewBag.City, "Value", "Text", "0"), new { @class = "form-control m-bot15", @id = "ddlGRCity" })
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrState</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-university"></i></span>
                                                                                @Html.DropDownList("ddlGRState", new SelectList((IEnumerable<SelectListItem>)ViewBag.State, "Value", "Text", "0"), new { @class = "form-control m-bot15", @id = "ddlGRState" })
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrCountry</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-globe"></i></span>
                                                                                @Html.DropDownList("ddlGRCountry", new SelectList((IEnumerable<SelectListItem>)ViewBag.Country, "Value", "Text", "0"), new { @class = "form-control m-bot15", @id = "ddlGRCountry" })
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrNIC</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-info"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRNIC" name="GRNIC" maxlength="13" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrPhone</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-phone"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRPhone" name="FaxNo" maxlength="11" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <label class="form-label">GrCell</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-mobile"></i></span>
                                                                                <input type="text" class="form-control" id="txtGRCell" name="Email" maxlength="11" onblur="ChangeColor(this)" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-8">
                                                                            <label class="form-label">Remarks</label>
                                                                            <div class="input-group">
                                                                                <span class="input-group-addon"><i class="fa fa-comment"></i></span>
                                                                                <input type="text" class="form-control" id="txtRemarks" name="URL" maxlength="50" />
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                        <div class="col-md-2" style="padding:2rem;">
                                                                            <input type="checkbox" id="chkActive" class="chkBank icheckbox_minimal-blue" />
                                                                            <label class="form-label">Active</label>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <div class="input-group" style="width:50%;">
                                                                                <button class="btn btn-success btn-sm" type="button" style="width: 100%;padding: 8px; margin-top: 20px; right: 15px;" onclick="AddGuarantor(this)">Add</button>
                                                                            </div>
                                                                            <div class="makespace"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <div class="table-responsive">
                                                                                <table class="table table-bordered table-striped" id="GuarantorDetail" style="white-space: nowrap; FONT-SIZE: 10px;">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            <th>SR</th>
                                                                                            <th>GR Name</th>
                                                                                            <th>GR Address</th>
                                                                                            <th>GR City</th>
                                                                                            <th>GR State</th>
                                                                                            <th>GR Country</th>
                                                                                            <th>GR NIC</th>
                                                                                            <th>GR Phone</th>
                                                                                            <th>GR Cell</th>
                                                                                            <th>Remarks</th>
                                                                                            <th>Status</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody></tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>*@

                                    <!--copy cut-->
                                    <!---->
                                    <!---->
                                </div>
                            </div>
                        </div>
                        <div class="pull-right">
                            @if (DXBMS.SecurityBll.UserRights("2501", "002"))
                            {
                                <button type="button"  id="btnSave" class="btn btn-info waves-effect waves-light btn-group">Save</button>
                            }
                            else
                            {
                                <button type="button"  id="btnSave" class="btn btn-info waves-effect waves-light btn-group" disabled>Save</button>
                            }


                            @*<button type="button" class="btn btn-primary" id="btnSave" style="margin-top:25px;width:100px; margin-right:0px; border-radius:0px;">Save</button>*@
                            @if (DXBMS.SecurityBll.UserRights("2501", "004"))
                            {
                            <button type="button" class="btn btn-danger" id="btnDelete" style="margin-top:25px; width:100px; margin-right:0px; border-radius:0px;">Delete</button>
                            }
                            else
                            {
                                <button type="button" class="btn btn-danger" id="btnDelete" style="margin-top:25px; width:100px; margin-right:0px; border-radius:0px;" disabled>Delete</button>
                            }
                             <button type="reset" class="btn btn-default" id="btnCancel" style="margin-top:25px; width:100px; margin-right:0px; border-radius:0px;">Clear</button>
                           




                        </div>

                    </div>
                </div>
            </section>
        </div>
    </form>

    <!-- Popup box modal start -->
    <div class="modal" id="section-confirm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Confirm</h4>
                </div>
                <div class="modal-body">

                    <h5>Are you sure want to save ?</h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-danger" type="button">No</button>
                    <button class="btn btn-primary" type="button" onclick="SaveMasterEnquiry()">Yes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modal end -->
    <div class="modal" id="section-confirm-Delete" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Confirm</h4>
                </div>
                <div class="modal-body">

                    <h5>Are you sure want to Delete ?</h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-default" type="button">No</button>
                    <button class="btn btn-danger" type="button" onclick="DeleteEnquiry()">Yes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Popup box modal start -->
    <div class="modal" id="section-message" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header" id="modalMessage">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Success</h4>
                </div>
                <div class="modal-body">

                    <h5 id="lblMessage"></h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-default" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modal end -->
    <!-- Vendor Modal Start -->
    <div class="modal" tabindex="-1" id="VendorModal" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="margin-top:60px;">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="modal123Label">Vendor Detail</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="exampleInputuname" class="col-md-2">Search :</label>
                        <div class="col-md-10">
                            <input type="text" id="VendorSearch" class="form-control" aria-controls="VendorSearch" placeholder="Search . . . ">
                        </div>
                    </div>
                    <div class="form-group row" style="margin-left:10px">
                        <div class="table-responsive table-Scroll" style="height:280px">
                            <table id="tblVendorSearch" class="table color-table info-table">
                                <thead>
                                    <tr>
                                        
                                        <th style="width:10%;">ID</th>
                                        <th style="width:20%;">Vendor Name</th>
                                        @* <th style="width:15%;">NIC</th>*@
                                        <th style="width:38%;">Address</th>
                                        <th style="width:10%;">Phone</th>
                                    </tr>
                                </thead>
                                <tbody style="font-size:12px; text-transform: uppercase">
                                    @if (ViewBag.Vendor != null)
                                    {
                                        foreach (var item in ViewBag.Vendor)
                                        {
                                            <tr style="text-align:left"  onclick="IssueFunc('@item.VendorCode')">

                                                <td class="tdDiv" nowrap="nowrap" style="width:10%;"  >
                                                    @item.VendorCode
                                                </td>
                                                <td class="tdDiv" nowrap="nowrap" style="width:20%;"   >
                                                    @item.VendorDesc
                                                </td>

                                                <td class="tdDiv" style="width:38%;"   >
                                                    @item.Add1
                                                </td>
                                                <td class="tdDiv" nowrap="nowrap" style="width:10%;"   >
                                                    @item.Phone1
                                                </td>

                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>

    
                <!-- Vendor Modal End -->
                <!-- Account Code Modal Start-->
                <div class="modal" tabindex="-1" id="POModalActCode" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="margin-top:60px;">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title" id="modal123Label">Account Detail</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group row">
                                    <label for="exampleInputuname" class="col-md-2">Search :</label>
                                    <div class="col-md-10">
                                        <input type="text" id="txtAccountSearch" class="form-control" aria-controls="AccountTableSO" placeholder="Search . . . ">
                                    </div>
                                </div>
                                <div class="form-group row" style="margin-left:10px">
                                    <div class="table-responsive table-Scroll" style="height:280px">
                                        <table id="AccountTableSOA" class="table color-table info-table">
                                            <thead>
                                                <tr>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Code</th>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Description</th>
                                                </tr>
                                            </thead>
                                            <tbody style="font-size:12px; text-transform: uppercase">
                                                @if (ViewBag.Accounts != null)
                                                {
                                                    foreach (var item in ViewBag.Accounts)
                                                    {
                                                        <tr style="text-align: left" onclick="ClickAccount('@item.AccountCode','@item.AccountDesc')">
                                                            <td class="tdDiv">
                                                                @item.AccountCode
                                                            </td>
                                                            <td class="tdDiv">
                                                                @item.AccountDesc
                                                            </td>
                                                        </tr>
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- Account Code Modal END-->
                <!-- Account Code  Payable Modal Start-->
                <div class="modal" tabindex="-1" id="POModalActPayable" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="margin-top:60px;">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title" id="modal123Label">Account Detail</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group row">
                                    <label for="exampleInputuname" class="col-md-2">Search :</label>
                                    <div class="col-md-10">
                                        <input type="text" id="AccountSearchPay" class="form-control" aria-controls="AccountTableSO" placeholder="Search . . . ">
                                    </div>
                                </div>
                                <div class="form-group row" style="margin-left:10px">
                                    <div class="table-responsive table-Scroll" style="height:280px">
                                        <table id="AccountTablePay" class="table color-table info-table">
                                            <thead>
                                                <tr>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Code</th>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Description</th>
                                                </tr>
                                            </thead>
                                            <tbody style="font-size:12px; text-transform: uppercase">
                                                @if (ViewBag.Accounts != null)
                                                {
                                                    foreach (var item in ViewBag.Accounts)
                                                    {
                                                        <tr style="text-align: left" onclick="ClickAccountPayable('@item.AccountCode','@item.AccountDesc')">
                                                            <td class="tdDiv">
                                                                @item.AccountCode
                                                            </td>
                                                            <td class="tdDiv">
                                                                @item.AccountDesc
                                                            </td>
                                                        </tr>
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- Account Code Modal END-->
                <!-- Account Code Receive Modal Start-->
                <div class="modal" tabindex="-1" id="POModalActRecieve" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content" style="margin-top:60px;">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title" id="modal123Label">Account Detail</h4>
                            </div>
                            <div class="modal-body">
                                <div class="form-group row">
                                    <label for="exampleInputuname" class="col-md-2">Search :</label>
                                    <div class="col-md-10">
                                        <input type="text" id="AccountSearchRev" class="form-control" aria-controls="AccountTableSO" placeholder="Search . . . ">
                                    </div>
                                </div>
                                <div class="form-group row" style="margin-left:10px">
                                    <div class="table-responsive table-Scroll" style="height:280px">
                                        <table id="AccountTableRev" class="table color-table info-table">
                                            <thead>
                                                <tr>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Code</th>
                                                    <th class="tdDiv" style="text-align:left" width:"30%">Account Description</th>
                                                </tr>
                                            </thead>
                                            <tbody style="font-size:12px; text-transform: uppercase">
                                                @if (ViewBag.Accounts != null)
                                                {
                                                    foreach (var item in ViewBag.Accounts)
                                                    {
                                                        <tr style="text-align: left" onclick="ClickAccountRecievable('@item.AccountCode','@item.AccountDesc')">
                                                            <td class="tdDiv">
                                                                @item.AccountCode
                                                            </td>
                                                            <td class="tdDiv">
                                                                @item.AccountDesc
                                                            </td>
                                                        </tr>
                                                    }
                                                }
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- Account Code Modal END-->
</section>
<script src="~/assets/js/jquery-1.11.2.min.js"></script>
<script type="text/javascript">

    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode

        if (charCode > 31 && (charCode < 48 || charCode > 57))
            return false;
        return true;
    }
    $(document).ready(function () {
        $("#txtAccountSearch").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#AccountTableSOA tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });
    $(document).ready(function () {
        $("#VendorSearch").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#tblVendorSearch tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });
    });
    $(document).ready(function () {
        $("#AccountSearch").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#AccountTableSO tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

    });
    $(document).ready(function () {
        $("#AccountSearchPay").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#AccountTablePay tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

    });
    $(document).ready(function () {
        $("#AccountSearchRev").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#AccountTableRev tr").filter(function () {
                $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
        });

    });
    function isCellNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode

        if (charCode != 45  && (charCode < 48 || charCode > 57))
            return false;
        return true;
    }

    function ChangeColor(value) {

        if ($(value).val() != '')
            $(value).css("border-color", "#e1e1e1");
    }

    function ShowModal(type) {

        if (type == 'Vendor') {
            $('#VendorModal').modal("show");
        } else if (type == 'SMSSetup') {
            $('#SMSSetupModal').modal("show");
        } else if (type == 'Account') {
            $('#POModalActCode').modal("show");
        }
        else if (type == 'AccountPay') {
            $('#POModalActPayable').modal("show");
        }
        else if (type == 'AccountRecieve') {
            $('#POModalActRecieve').modal("show");
        }
    }

    //function ShowModal(type) {

    //}


    ClickAccount = function (AccountCode,AccountDesc) {
        $('#txtAccountCode').val(AccountCode);

       // $('#txtAccountDesc').val(AccountDesc);
        $('#txtAccountCode').css("border-color", "#e1e1e1");
       //// $('#txtAccountDesc').css("border-color", "#e1e1e1");

        $("#POModalActCode").modal("hide");
    }
    ClickAccountRecievable = function (AccountCode, AccountDesc) {

        $('#txtVendorRecievable').val(AccountCode);

        // $('#txtAccountDesc').val(AccountDesc);
        $('#txtAccountCode').css("border-color", "#e1e1e1");
        //// $('#txtAccountDesc').css("border-color", "#e1e1e1");

        $("#POModalActRecieve").modal("hide");
    }
    ClickAccountPayable = function (AccountCode, AccountDesc) {

        $('#txtVendorPayable').val(AccountCode);
        // $('#txtAccountDesc').val(AccountDesc);
        $('#txtAccountCode').css("border-color", "#e1e1e1");
        //// $('#txtAccountDesc').css("border-color", "#e1e1e1");

        $("#POModalActPayable").modal("hide");
    }
    $("#VendorSearch").on("keyup", function () {

        var val = $(this).val();
        var value = val.toUpperCase();

        $("#VendorTable tbody tr").each(function () {
            debugger
            $row = $(this);
            var id = $(this).closest('tr').find('#lblCusDesc').text();
            var desc = $(this).closest('tr').find('#lblNIC').text();
            var nic = $(this).closest('tr').find('#lblAddress').text();
            var phone = $(this).closest('tr').find('#lblPhone').text();

            if (id.indexOf(value) !== 0 && desc.indexOf(value) !== 0 && nic.indexOf(value) !== 0 && phone.indexOf(value) !== 0) {
                $row.hide();
            }
            else {
                $row.show();
            }

        });
    });





    function clearPaymentFeilds() {
        $("#ddlPaymentMode").val("0");
        $("#txtInstrumentNo").val("");
        $("#ddlPaymentType")[0].selectedIndex = 0;
        $("#ddlBank").val("0");
        $("#txtBranch").val("");
        $("#ddlCity").val("0");
        $("#txtAmount").val("");
    }

    var rowCount = 1;
    var dataCount = 1;
    var SNo = 1;

  
   

    IssueFunc = function (value) {
        debugger;
        var leadId = value;

        getData(leadId);
        $("#VendorModal").modal("hide");
    }

    $("#chkSameAs").change(function () {
        debugger
        var FFS = $("#chkSameAs").is(":checked");
        if (FFS) {
            $("#txtContPerson").prop('readonly',true);
        }else
        {
            $("#txtContPerson").prop('readonly',false);
        }

    })

    $("#btnSave").click(function () {

        //var check = true;
        var check = ValidateVendor();
        if (check == true) {
            $("#section-confirm").modal("show");
        }
    })

    function ValidateVendor() {

        var count = 0;

        var CusDesc = $("#txtCusDesc").val();
        var CellNo = $("#txtPhone1").val();
        var Address = $("#txtAddress").val();
         var ContPerson = $("#txtContPerson").val();


         if (ContPerson == "" || ContPerson == null) {
             $("#txtContPerson").css("border-color", "red");
            count++;
        }

        if (CusDesc == "" || CusDesc == null) {
            $("#txtCusDesc").css("border-color", "red");
            count++;
        }

        if (CellNo == "" || CellNo == null) {
            $("#txtPhone1").css("border-color", "red");
            count++;
        }
        if (Address == "" || Address == null) {
            $("#txtAddress").css("border-color", "red");
            count++;
        }

        if (count > 0) {

            $("#lblMessage").html("Please fill the Required feilds These are Mandatory");
            $("#section-message").modal("show");
            return false;
        }
        else {
            return true;
        }

    }

    function SaveMasterEnquiry() {

        var dto = {};


        dto.DealerCode    = "@Session["DealerCode"].ToString()";
        dto.VendorCode       = $("#ddlVendors").val();
       // dto.VendorType   = $("#ddlCusType").val();
        dto.Title        = $("#ddlCusType").val();
        dto.VendorDesc     = $("#txtCusDesc").val();
        dto.NTN          = $("#txtNICNTN").val();
        dto.GSTno         = $("#txtGSTno").val();
        dto.PaymentTerm      = $("#txtCreditDays").val();
        dto.CreditLimit     = $("#txtCreditLimit").val();
        dto.Add1        = $("#txtAddress").val();
        dto.Phone1          = $("#txtPhone1").val();
        dto.Phone2          = $("#txtPhone1").val();
        dto.Fax           = $("#txtFaxNo").val();
        dto.Email           = $("#txtEmail").val();
        dto.URL             = $("#txtURL").val();
        dto.ContPerson      = $("#txtContPerson").val();
        dto.AccountCode = $("#txtAccountCode").val();
        dto.VendorRecievable = $("#txtVendorRecievable").val();
        dto.VendorPayable = $("#txtVendorPayable").val();

        $.ajax({
            dataType: "json",
            async: true,
            type: 'GET',
            url: '@Url.Content("~/Vendor/Insert_Vendor")',
            data: dto,
            success: function (data) {
                debugger
                if (data) {
                    if (data.Success == true) {

                        var rowCount = $('#GuarantorDetail >tbody  >tr').length;
                        if (rowCount > 0) {
                            saveGuarantor();
                        } else {
                            $("#section-confirm").modal("hide")
                            $("#modalMessage").css("background-color", "#64c344");
                            $("#lblMessage").text(data.Message)
                            $("#section-message").modal('show');
                            setTimeout(function () {
                                location.reload();
                            }, 4000);
                        }

                    }
                    else {
                        $("#section-confirm").modal("hide")
                        $("#modalMessage").css("background-color", "#e46457");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                    }
                }
            },
            complete: function () {

            },
            error: function (data) {
                $("#section-confirm").modal("hide")
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text(data.Message)
                $("#section-message").modal('show');
            }
        });
    }




    $("#ddlVendors").change(function () {
        var leadId = $("#ddlVendors").val();
        if (leadId == "0") {
            location.reload();
        }
        else {
            getData(leadId);
            document.getElementById("btnDelete").disabled = false;
        }

    });
    function getData(id) {
        var leadId = id;

        if (leadId != "0") {
            $.ajax({
                dataType: "json",
                async: true,
                type: 'GET',
                url: '@Url.Content("~/Vendor/Select_Vendor")',
                data: { 'EnquiryId': leadId},
                success: function (data) {
                    debugger;
                    if (data.Success == true) {
                        var item = JSON.parse(data.Response)

                        //Vendor Information

                        $("#ddlVendors").val(item[0].VendorCode);
                        $("#ddlCusType").val(item[0].Title);
                        //$("#ddlCusTitle").val(item[0].Title);
                        $("#txtCusDesc").val(item[0].VendorDesc);
                        $("#txtNICNTN").val(item[0].NTNno);
                        $("#txtGSTno").val(item[0].GSTno);
                        $("#txtCreditDays").val(item[0].PaymentTerm);
                        $("#txtCreditLimit").val(item[0].CreditLimit);
                        $("#txtAddress").val(item[0].Add1);
                        $("#txtPhone1").val(item[0].Phone1);
                        $("#txtPhone2").val(item[0].Phone2);
                        $("#txtFaxNo").val(item[0].FaxNo);
                        $("#txtEmail").val(item[0].Email);
                        $("#txtURL").val(item[0].URL);
                        $("#txtContPerson").val(item[0].ContPerson);
                        $("#txtAccountCode").val(item[0].AccountCode);
                        $("#txtVendorRecievable").val(item[0].VendorRecievable);
                        $("#txtVendorPayable").val(item[0].VendorPayable);

                    }
                },
                complete: function () {

                },
            });

        }

    }


    $("#btnDelete").click(function () {
        $("#section-confirm-Delete").modal("show");
    })

    function DeleteEnquiry() {
        var leadId = $("#ddlVendors").val();

        $.ajax({
            dataType: "json",
            async: true,
            type: 'POST',
            url: '@Url.Content("~/Vendor/Delete_Vendor")',
            data: { 'EnquiryId': leadId },
            success: function (data) {
                if (data) {
                    if (data.success == true) {
                        $("#section-confirm-Delete").modal("hide")
                        $("#modalMessage").css("background-color", "#64c344");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                        setTimeout(function () {
                            $('#section-message').modal('hide')
                        }, 4000);
                    } else {
                        $("#section-confirm-Delete").modal("hide")
                        $("#modalMessage").css("background-color", "#e46457");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                        setTimeout(function () {
                            $('#section-message').modal('hide')
                        }, 4000);

                    }
                }
            },
            complete: function () {

            },
        });

    }

    @*
    $(function(){
    $("#btnSave").click(function(e){
    e.preventDefault();
    var VendorList = [];
    var count = 0;
    var VendorCode = $("#CusCodeID").val();
    var VendorType = $('#CusTypeCode').val();
    var VendorTitle = $('#CusTitleID').val();
    var CustomrDescription = $('#CusDescID').val();
    var VendorCNIC = $('#NICID').val();
    var VendorContact = $('#ContPersonID').val();
    var CustomrAddress = $('#Address1ID').val();
    var Country = $('#CountryCode').val();
    var State = $('#StateDescID').val();
    var City = $('#CityCode').val();
    var VendorPhone = $('#Phone1ID').val();
    var VendorCellNo = $('#CellNoID').val();
    var VendorWhatssapNo = $('#Phone2ID').val();
    var VendorFaxNo = $('#FaxNoID').val();
    var VendorEmail = $('#EmailID').val();
    var VendorURL = $('#URLID').val();
    var CutomerNTNno = $('#NTNnoID').val();
    var VendorSalesTaxNo = $('#SalesTaxRegNoID').val();
    var VendorPaymentTerm = $('#CreditDaysID').val();
    var VendorPaymentLimit = $('#CreditLimitID').val();
    var VendorDistance = $('#DistanceID').val();



    if(count==0)
    {
        var VendorVariable =
    {
        CusCode: VendorCode, CusTypeCode: VendorType, CusTitle: VendorTitle, CusDesc: CustomrDescription, NIC: VendorCNIC,
        ContPerson: VendorContact, Address1: CustomrAddress, CountryCode: Country, StateCode: State, CityCode: City,
        Phone1: VendorPhone, CellNo: VendorCellNo, Phone2: VendorWhatssapNo, FaxNo: VendorFaxNo, Email: VendorEmail,
        URL: VendorURL, NTNno: CutomerNTNno, SalesTaxRegNo: VendorSalesTaxNo, CreditDays: VendorPaymentTerm,
        CreditLimit: VendorPaymentLimit, Distance: VendorDistance
    };
    VendorList.push(VendorVariable);


    }
    count++;
    $.ajax({
    type: "POST",
    url: "/Vendor/SaveData",
    dataType: "json",
    contentType: 'application/json',
    data: JSON.stringify({ VendorList: VendorList }),
    contentType: "application/json; charset=utf-8",
    complete: function (result) {

        //document.forms["Vendor"].submit();
        window.location.href = '@Url.Action("Vendor", "Vendor")';
    }
    });
    });
    })*@
</script>


