
@{
    ViewBag.Title = "SaleOrder";
    Layout = "~/Views/Shared/_LayoutV2.cshtml";
}


<style>
    .makespace {
        margin-bottom: 0.5rem;
    }

    .icheckbox_minimal-blue {
        top: 10px;
    }
</style>


<link href="../assets/plugins/icheck/skins/all.css" rel="stylesheet" type="text/css" media="screen" />
<link href="../assets/plugins/icheck/skins/all.css" rel="stylesheet" type="text/css" media="screen" />
<script src="../assets/plugins/icheck/icheck.min.js" type="text/javascript"></script>

<section class="wrapper main-wrapper row">
    <form method="post">
        <div class="col-xs-12">
            <section class="box">
                <div class="panel panel-primary">
                    <div class="panel-heading" style="text-align:center"><strong>Price Offer And Negotiations</strong></div>

                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-4">
                                <label class="form-label">Offer Code</label>
                                <div class="input-group">
                                    <div class="input-group-addon"><a data-toggle="modal" data-target="#EvaluationModal" style="color:blue"><i class="fa fa-search" onclick=""></i></a></div>
                                    <input type="text" class="form-control" id="txtOfferCode" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Offer Date</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                    <input type="text" class="form-control datepicker" id="txtOfferDate" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>

                            <div class="col-md-4">
                                <label class="form-label">Source</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-car"></i></span>
                                    @Html.DropDownList("ddlSource", new SelectList((IEnumerable<SelectListItem>)ViewBag.ddlSource, "Value", "Text", "0"), new { @class = "form-control m-bot15", @id = "ddlSource" })
                                </div>
                                <div class="makespace"></div>
                            </div>


                            <div class="row"></div>
                            <div class="col-md-4">
                                <label class="form-label">Registration No</label>
                                <div class="input-group">
                                    <div class="input-group-addon"><a data-toggle="modal" data-target="#RegNoModal" style="color:blue"><i class="fa fa-search" onclick=""></i></a></div>
                                    <input type="text" class="form-control" id="txtRegNo" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>

                            <div class="col-md-4">
                                <label class="form-label">Registration Date</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-tag"></i></span>
                                    <input type="text" class="form-control" id="txtRegistrationDate" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>

                            <div class="col-md-4">
                                <label class="form-label">Inspection Date</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                    <input type="text" class="form-control datepicker" id="txtInspectionDate" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>

                            <div class="col-md-4">
                                <label class="form-label">Chassis No</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-tag"></i></span>
                                    <input type="text" class="form-control" id="txtChassisNo" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Engine</label>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-qrcode"></i></span>
                                    <input type="text" class="form-control" id="txtEngineNo" readonly>
                                </div>
                                <div class="makespace"></div>
                            </div>

                            <div class="form-group row container-fluid">
                                <div class="col-md-4">
                                    <label class="form-label">Brand</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-tasks"></i></span>
                                        <input type="text" class="form-control" id="txtBrandCode" style="width:30%" readonly>
                                        <input type="text" class="form-control" id="txtBrand" style="width:70%" readonly>
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Product</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-tint"></i></span>
                                        <input type="text" class="form-control" id="txtProductCode" style="width:30%" readonly />
                                        <input type="text" class="form-control" id="txtProduct" style="width:70%" readonly />
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Color</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-sort-amount-asc"></i></span>
                                        <input type="text" class="form-control" id="txtColorCode" style="width:30%" readonly />
                                        <input type="text" class="form-control" id="txtColor" style="width:70%" readonly />
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Customer</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-sort-amount-desc"></i></span>
                                        <input type="text" class="form-control" id="txtCusCode" style="width:30%" readonly />
                                        <input type="text" class="form-control" id="txtCustomer" style="width:70%" readonly />
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Contact No</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-leaf"></i></span>
                                        <input type="text" class="form-control" id="txtContactNo" readonly />
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Vehicle Transmission</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-users"></i></span>
                                        <select class="form-control input-md m-bot15" id="ddlVehicleTransmission">
                                            <option>Select</option>
                                            <option>Automatic</option>
                                            <option>Manual</option>
                                        </select>
                                    </div>
                                    <div class="makespace"></div>
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Model Year</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtModelYear" readonly />
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Evaluator</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-users"></i></span>
                                        @Html.DropDownList("ddlEmp", new SelectList((IEnumerable<SelectListItem>)ViewBag.ddlDealerEmp, "Value", "Text", "0"), new { @class = "form-control m-bot15", @id = "ddlEmp" })
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Offer Category</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <select class="form-control input-md m-bot15" id="ddlOfferCategory">
                                            <option>Select</option>
                                            <option>Exchange</option>
                                            <option>Re-Conidition</option>
                                            <option>New Re-Conidition</option>
                                        </select>
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Actual KM</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtActualPrice" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Price Offer</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtOfferPrice" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Expectation of Customer</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtExpectation" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-4">
                                    <label class="form-label">Negotiate Offer</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtNegociationOffer" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>



                                <div class="col-md-4">
                                    <label class="form-label">Recondition Cost</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtRecoditionCost" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>



                                <div class="col-md-4">
                                    <label class="form-label">Naration</label>
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                        <input type="text" class="form-control" id="txtNarration" />
                                    </div>
                                    <div class="makespace"></div>
                                </div>

                                <div class="col-md-6 pull-left" style="margin-top:15px">
                                    <div class="box " style="border: 1px solid #e0e0e0; padding:2px 5px 2px 20px">
                                        <div class="input-group row">
                                            <label class="checkbox-inline p-0 col-md-3">
                                                <div class="checkbox checkbox-inline">
                                                    <input type="checkbox" class="chkReceipt" name="ReceiptType" id="chkReceipt" value="ARC">
                                                    <label id="lblReceipt" value="Registration Book">Registration Book</label>
                                                </div>
                                            </label>
                                            <label class="checkbox-inline p-0 col-md-3">
                                                <div class="checkbox checkbox-inline">
                                                    <input type="checkbox" class="chkSaleInvoice" name="ReceiptType" checked id="chkSaleInvoice" value="IRC">
                                                    <label id="lblSaleInvoice" value="Sale Invoice Certificate"> Sale Invoice Certificate </label>
                                                </div>
                                            </label>
                                            <label class="checkbox-inline col-md-3">
                                                <div class="checkbox checkbox-inline">
                                                    <input type="checkbox" class="chkCPLC" name="ReceiptType" id="chkCPLC" value="RCWOI">
                                                    <label id="lblCPLC" value="CPLC Clearance"> CPLC Clearance </label>
                                                </div>
                                            </label>
                                        </div>
                                    </div>
                                </div>




                                <div class="panel-group col-md-12" id="accordion" style="margin-top:15px">
                                    <div class="panel panel-info">
                                        <div class="panel-heading">
                                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                                                <span class="glyphicon glyphicon-chevron-right"></span>
                                                Vehicle Condition
                                            </a>
                                        </div>
                                        <div id="collapseOne" class="panel-collapse collapse">
                                            <div class="panel-body">
                                                <div class="container-fluid">
                                                    <table class="col-lg-12">
                                                        <thead style="margin-bottom:30px">
                                                            <tr>
                                                                <th class="col-md-3">System Checks</th>
                                                                <th class="col-md-3">Cost of Repair</th>
                                                                <th class="col-md-3">System Checks</th>
                                                                <th class="col-md-3">Cost of Repair</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkEngine" name="chkEngine" />
                                                                        <label class="form-label">Engine</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtEngine" name="txtEngine" readonly />

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkBody" />
                                                                        <label class="form-label">Body</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtBody" name="txtBody" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkIgnition" />
                                                                        <label class="form-label">Ignition System</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtIgnition" name="txtIgnition" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkAc" />
                                                                        <label class="form-label">A/C and Heater</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtAc" name="txtAc" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkFuel" />
                                                                        <label class="form-label">Fuel System</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtFuel" name="txtFuel" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkopr" />
                                                                        <label class="form-label">Opr. of Accessories</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtopr" name="txtopr" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkDrive" />
                                                                        <label class="form-label">Drive Train</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtDrive" name="txtDrive" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkCNG" />
                                                                        <label class="form-label">CNG</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtCNG" name="txtCNG" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkBrakes" />
                                                                        <label class="form-label">Brakes</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtBrakes" name="txtBrakes" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkSuspension" />
                                                                        <label class="form-label">Suspension</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtSuspension" name="txtSuspension" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkSteering" />
                                                                        <label class="form-label">Steering</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtSteering" name="txtSteering" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="margin-left:30px">
                                                                        <input type="checkbox" id="chkElectrical" />
                                                                        <label class="form-label">Electrical</label>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div>
                                                                        <input type="text" class="form-control" id="txtElectrical" name="txtElectrical" readonly />
                                                                        <div class="makespace"></div>
                                                                    </div>
                                                                </td>
                                                            </tr>


                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>





                        </div>

                        <div class="pull-right" style="margin-right:15px">
                            <button type="button" class="btn btn-info" id="btnSave" style="margin-top:27px; width:100px" onclick="SaveEnquiryMaster()">Save</button>

                            <button type="button" class="btn btn-danger" id="btnDelete" style="margin-top:27px; width:100px" onclick="DeleteEnquiry()">Delete</button>

                            <button type="button" class="btn btn-default" id="btnCancel" style="margin-top:27px; width:100px" onclick="clearfeild()">Clear</button>

                            <a class="btn btn-primary" id="btnPrint" style="margin-top:25px;" href="#">Print</a>
                        </div>


                        <!--copy till this-->
                    </div>
                </div>
            </section>
        </div>
    </form>
    <!-- Lookup Modal Start -->
    <div class="modal" tabindex="-1" id="EvaluationModal" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="margin-top:60px;">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="modal123Label">Search Reg No</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="exampleInputuname" class="col-md-2">Search :</label>
                        <div class="col-md-10">
                            <input type="text" id="ComplainSearch" class="form-control" aria-controls="RegNoTable" placeholder="Search . . . ">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="table-responsive" style="height:300px;">
                            <table id="RegNoTable" class="table table-striped table-hover responsive">
                                <thead>
                                    <tr>
                                        <th>EvaluationCode</th>
                                        <th>Reg No</th>
                                        <th>Reg Date </th>
                                        <th>Chassis No</th>
                                    </tr>
                                </thead>
                                <tbody style="font-size:12px; text-transform: uppercase">

                                    @{ int l = 1; }
                                    @if (ViewBag.Evaluation != null)
                                    {

                                        foreach (var item in ViewBag.Evaluation)
                                        {
                                            <tr style="text-align: left" onclick="RevClickDetails('@item.EvaluationCode','@item.RegNo','@item.EvaluationDate','@item.ChassisNo')">
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.EvaluationCode</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.RegNo</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.EvaluationDate</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ChassisNo</a>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" style="text-transform: uppercase;" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Lookup Modal Start -->

    <div class="modal" tabindex="-1" id="RegNoModal" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content" style="margin-top:60px;">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="modal123Label">Search Reg No</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="exampleInputuname" class="col-md-2">Search :</label>
                        <div class="col-md-10">
                            <input type="text" id="ComplainSearch" class="form-control" aria-controls="RegNoTable" placeholder="Search . . . ">
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="table-responsive" style="height:300px;">
                            <table id="RegNoTable" class="table table-striped table-hover responsive">
                                <thead>
                                    <tr>
                                        <th>Reg No</th>
                                        <th>Reg Date </th>
                                        <th>Chassis No</th>
                                        <th>Engine No</th>
                                        <th>Brand Code</th>
                                        <th>Brand Desc</th>
                                        <th>Prod Code</th>
                                        <th>Prod Desc</th>
                                        <th>Color Code</th>
                                        <th>Color Desc</th>
                                        <th>Cus Code</th>
                                        <th>CusDesc</th>
                                        <th>Cell No</th>
                                        <th>Version</th>

                                    </tr>
                                </thead>
                                <tbody style="font-size:12px; text-transform: uppercase">

                                    @{ int i = 1; }
                                    @if (ViewBag.RegNo != null)
                                    {

                                        foreach (var item in ViewBag.RegNo)
                                        {
                                            <tr style="text-align: left" onclick="RevClickDetail('@item.RegNo','@item.tdDate','@item.ChassisNo','@item.EngineNo','@item.BrandCode','@item.BrandDesc','@item.ProdCode','@item.ProdDesc','@item.ColorCode','@item.ColorDesc','@item.CusCode','@item.CusDesc','@item.CellNo','@item.VersionCode')">

                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.RegNo</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.tdDate</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ChassisNo</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.EngineNo</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.BrandCode</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.BrandDesc</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ProdCode</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ProdDesc</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ColorCode</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.ColorDesc</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.CusCode</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.CusDesc</a>
                                                </td>
                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.CellNo</a>
                                                </td>

                                                <td class="tdDiv">
                                                    <a href="#" style="color:black">@item.VersionCode</a>
                                                </td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" style="text-transform: uppercase;" class="btn btn-danger waves-effect text-left" data-dismiss="modal">Close</button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- Book Ref No Modal End -->
    <!-- Popup box modal start -->
    <div class="modal" id="section-message" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header" id="modalMessage">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Message</h4>
                </div>
                <div class="modal-body">

                    <h5 id="lblMessage"></h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-default" type="button">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modal end -->
    <!-- Popup box modal start -->
    <div class="modal" id="section-confirm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Confirm</h4>
                </div>
                <div class="modal-body">

                    <h5>Are you sure want to save ?</h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-default" type="button">Close</button>
                    <button class="btn btn-success" type="button" onclick="SaveMasterEnquiry()">Save</button>
                </div>
            </div>
        </div>
    </div>
    <!-- modal end -->
    <div class="modal" id="section-confirm-Delete" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog animated bounceInDown">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Confirm</h4>
                </div>
                <div class="modal-body">

                    <h5>Are you sure want to Delete ?</h5>

                </div>
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-default" type="button">Close</button>
                    <button class="btn btn-danger" type="button" onclick="DeleteEnquiry()">Delete</button>
                </div>
            </div>
        </div>
    </div>

</section>

<link href='@Url.Content("~/assets/plugins/select2/select2.css")' rel="stylesheet" type="text/css" media="screen" />
<link href='@Url.Content("~/assets/plugins/icheck/skins/minimal/blue.css")' rel="stylesheet" type="text/css" media="screen" />
<script src='@Url.Content("~/assets/js/jquery-1.11.2.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/assets/plugins/select2/select2.min.js")' type="text/javascript"></script>
<script src='@Url.Content("~/assets/plugins/icheck/icheck.min.js")' type="text/javascript"></script>



<script>

    $(document).ready(function () {
        $(".datepicker").datepicker({
            dateFormat: "dd-mm-yy"
        });

    })
    RevClickDetails = function (EvaluationCode,RegNo, EvaluationDate, ChassisNo) {
        debugger;
        document.getElementById('txtOfferCode').value = EvaluationCode;
        document.getElementById('txtRegNo').value = RegNo;
        document.getElementById('txtOfferDate').value = EvaluationDate;
        document.getElementById('txtChassisNo').value = ChassisNo;
        $("#EvaluationModal").modal("hide");
        var leadId = $("#txtOfferCode").val();

        $.ajax({
            dataType: "json",
            async: true,
            type: 'Get',
            url: '@Url.Content("~/SaleOrder/Get_DataPONegociation")',
            data: { 'EnquiryId': leadId },
            success: function (data) {
                debugger;
                document.getElementById('ddlSource').value = data.UCSourceCode;
                document.getElementById('txtRegNo').value = data[0].RegNo;
                document.getElementById('txtRegistrationDate').value = data[0].RegDate;
                document.getElementById('txtInspectionDate').value = data[0].DateOfInspection;
                document.getElementById('txtEngineNo').value = data[0].EngineNo;
                document.getElementById('txtChassisNo').value = data[0].ChassisNo;
                document.getElementById('txtBrandCode').value = data[0].BrandCode;
                document.getElementById('txtBrand').value = data[0].BrandDesc;
                document.getElementById('txtProductCode').value = data[0].ProdCode;
                document.getElementById('txtProduct').value = data[0].ProdDesc;
                document.getElementById('txtColorCode').value = data[0].ColorCode;
                document.getElementById('txtColor').value = data[0].ColorDesc;
                document.getElementById('txtCusCode').value = data[0].CusCode;
                document.getElementById('txtCustomer').value = data[0].CusDesc;
                document.getElementById('txtContactNo').value = data[0].CellNo;
                document.getElementById('txtModelYear').value = data[0].VersionCode;
                debugger;
                document.getElementById('ddlVehicleTransmission').value = data[0].TransmissionType;
                document.getElementById('ddlEmp').value = data[0].UserName;
                document.getElementById('ddlOfferCategory').value = data[0].OfferCategory;
                document.getElementById('txtActualPrice').value = data[0].CurrentMilage;
                document.getElementById('txtOfferPrice').value = data[0].CustomerExpectedPrice;
                document.getElementById('txtExpectation').value = data[0].ExpectationCustomer;
                document.getElementById('txtNegociationOffer').value = data[0].BuyingPriceOffer;
                document.getElementById('txtRecoditionCost').value = data[0].ReCondition;
                document.getElementById('txtNarration').value = data[0].UCSourceRemarks;
                document.getElementById('txtEngine').value = data[0].C_Engine;
                document.getElementById('txtIgnition').value = data[0].C_IgnitionSyatem;
                document.getElementById('txtFuel').value = data[0].C_FuelSystem;
                document.getElementById('txtDrive').value = data[0].C_Drivetrain;
                document.getElementById('txtBrakes').value = data[0].C_Brakes;
                document.getElementById('txtSuspension').value = data[0].C_Suspension;
                document.getElementById('txtSteering').value = data[0].C_Steering;
                document.getElementById('txtElectrical').value = data[0].C_Electrical;
                document.getElementById('txtBody').value = data[0].C_Body;
                document.getElementById('txtAc').value = data[0].C_ACHeater;
                document.getElementById('txtopr').value = data[0].C_OperationOfAccInSecB;
                document.getElementById('txtCNG').value = data[0].C_CNGOperation;

            }

            });

        }
    RevClickDetail = function (RegNo, tdDate, ChassisNo, EngineNo, BrandCode,BrandDesc, ProdCode,ProdDesc,ColorCode, ColorDesc,CusCode,CusDesc, CellNo, VersionCode) {
        debugger;

        document.getElementById('txtRegNo').value =                   RegNo;
        document.getElementById('txtRegistrationDate').value =       tdDate;
        document.getElementById('txtEngineNo').value =                EngineNo;
        document.getElementById('txtChassisNo').value =               ChassisNo;
        document.getElementById('txtBrandCode').value =               BrandCode;
        document.getElementById('txtBrand').value =                   BrandDesc;
        document.getElementById('txtProductCode').value =              ProdCode;
        document.getElementById('txtProduct').value =                  ProdDesc;
        document.getElementById('txtColorCode').value =                  ColorCode;
        document.getElementById('txtColor').value =                  ColorDesc;
        document.getElementById('txtCusCode').value =                CusCode;
        document.getElementById('txtCustomer').value =              CusDesc;
        document.getElementById('txtContactNo').value =             CellNo;
        document.getElementById('txtModelYear').value =            VersionCode;

        $("#RegNoModal").modal("hide");
    }

    $(function () {
        $('#chkEngine').change(function () {
            if ($(this).is(':checked')) {
                $('#txtEngine').removeAttr('readonly');
            } else {
                $('#txtEngine').prop('readonly',true);
            }
        });
    });
    $(function () {
        $('#chkBody').change(function () {
            if ($(this).is(':checked')) {
                $('#txtBody').removeAttr('readonly');
            } else {
                $('#txtBody').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkIgnition').change(function () {
            if ($(this).is(':checked')) {
                $('#txtIgnition').removeAttr('readonly');
            } else {
                $('#txtIgnition').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkAc').change(function () {
            if ($(this).is(':checked')) {
                $('#txtAc').removeAttr('readonly');
            } else {
                $('#txtAc').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkFuel').change(function () {
            if ($(this).is(':checked')) {
                $('#txtFuel').removeAttr('readonly');
            } else {
                $('#txtFuel').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkopr').change(function () {
            if ($(this).is(':checked')) {
                $('#txtopr').removeAttr('readonly');
            } else {
                $('#txtopr').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkDrive').change(function () {
            if ($(this).is(':checked')) {
                $('#txtDrive').removeAttr('readonly');
            } else {
                $('#txtDrive').prop('readonly', true);
            }
        });
    });

    $(function () {
        $('#chkCNG').change(function () {
            if ($(this).is(':checked')) {
                $('#txtCNG').removeAttr('readonly');
            } else {
                $('#txtCNG').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkBrakes').change(function () {
            if ($(this).is(':checked')) {
                $('#txtBrakes').removeAttr('readonly');
            } else {
                $('#txtBrakes').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkSuspension').change(function () {
            if ($(this).is(':checked')) {
                $('#txtSuspension').removeAttr('readonly');
            } else {
                $('#txtSuspension').prop('readonly', true);
            }
        });
    });
    $(function () {
        $('#chkSteering').change(function () {
            if ($(this).is(':checked')) {
                $('#txtSteering').removeAttr('readonly');
            } else {
                $('#txtSteering').prop('readonly');
            }
        });
    });
    $(function () {
        $('#chkElectrical').change(function () {
            if ($(this).is(':checked')) {
                $('#txtElectrical').removeAttr('readonly');
            } else {
                $('#txtElectrical').prop('readonly', true);
            }
        });
    });
    function SaveEnquiryMaster() {
        debugger;
        var dto = {};
        var receipt = "";
        var SaleInvoice = "";
        var CPLC = "";

        debugger
        if ($("#txtOfferDate").val() == "") {
            $("#modalMessage").css("background-color", "#e46457");
            $("#lblMessage").text("Please Insert Offer Date: ")
            $("#section-message").modal('show');
            setTimeout(function () {
                $('#section-message').modal('hide')
            }, 4000);
            return;
        }

        if ($("#ddlSource").val() == "") {
            $("#modalMessage").css("background-color", "#e46457");
            $("#lblMessage").text("Please Insert Source: ")
            $("#section-message").modal('show');
            setTimeout(function () {
                $('#section-message').modal('hide')
            }, 4000);
            return;
        }
        if ($("#txtRegNo").val() == "") {
            $("#modalMessage").css("background-color", "#e46457");
            $("#lblMessage").text("Please Insert RegNo: ")
            $("#section-message").modal('show');
            setTimeout(function () {
                $('#section-message').modal('hide')
            }, 4000);
            return;
        }

        //Check Box Validation
        debugger


        debugger
        if ($('#chkEngine').is(':checked')) {
            if ($("#txtEngine").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Engine Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }



        if ($('#chkBody').is(':checked')) {
            if ($("#txtBody").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert  Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }






        if ($('#chkIgnition').is(':checked')) {
            if ($("#txtIgnition").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Ignition Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }






        if ($('#chkAc').is(':checked')) {
            if ($("#txtAc").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert AC Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }






        if ($('#chkFuel').is(':checked')) {
            if ($("#txtFuel").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Fuel Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }






        if ($('#chkopr').is(':checked')) {
            if ($("#txtopr").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Operation Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }






        if ($('#chkDrive').is(':checked')) {
            if ($("#txtDrive").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Operation Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }

        if ($('#chkCNG').is(':checked')) {
            if ($("#txtCNG").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert CNG Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }

        if ($('#chkBrakes').is(':checked')) {
            if ($("#txtBrakes").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Brakes Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }

        if ($('#chkSuspension').is(':checked')) {
            if ($("#txtSuspension").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Suspension Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }

        if ($('#chkSteering').is(':checked')) {
            if ($("#txtSteering").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Steering Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }

        if ($('#chkElectrical').is(':checked')) {
            if ($("#txtElectrical").val() == "") {
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text("Please Insert Electrical Cost: ")
                $("#section-message").modal('show');
                setTimeout(function () {
                    $('#section-message').modal('hide')
                }, 4000);
                return;
            }
        }



        var chkRegBook = $('input.chkReceipt').is(':checked');

        if (chkRegBook) {
            receipt = "Registration Book";
        } else {
            receipt = "";
        }
        var chkSaleInvoices = $('input.chkSaleInvoice').is(':checked')


        if (chkSaleInvoices) {
            SaleInvoice = "Sales Invoice Certificate";
        } else {
            SaleInvoice = "";
        }

        var chkCPLCs = $('input.chkCPLC').is(':checked')


        if (chkCPLCs) {
            CPLC = "CPLC Certificate";
        } else {
            CPLC = "";
        }



        dto.EvaluationCode = $("#txtOfferCode").val();
        dto.EvaluationDate = $("#txtOfferDate").val();
        dto.UCSourceCode = $("#ddlSource").val();
        dto.RegNo = $("#txtRegNo").val();
        dto.RegDate = $("#txtRegistrationDate").val();
        dto.DateOfInspection = $("#txtInspectionDate").val();
        dto.EngineNo = $("#txtEngineNo").val();
        dto.ChassisNo = $("#txtChassisNo").val();
        dto.BrandCode = $("#txtBrandCode").val();
        dto.ProdCode = $("#txtProductCode").val();
        dto.VersionCode = $("#txtModelYear").val();
        dto.ColorCode = $("#txtColorCode").val();
        dto.CusCode = $("#txtCusCode").val();
        dto.TransmissionType = $("#ddlVehicleTransmission").val();
        dto.UserName = $("#ddlEmp").val();
        dto.OfferCategory = $("#ddlOfferCategory").val();
        dto.CurrentMilage = $("#txtActualPrice").val();
        dto.CustomerExpectedPrice = $("#txtOfferPrice").val();
        dto.ExpectationCustomer = $("#txtExpectation").val();
        dto.BuyingPriceOffer = $("#txtNegociationOffer").val();
        dto.ReCondition = $("#txtRecoditionCost").val();
        dto.UCSourceRemarks = $("#txtNarration").val();
        dto.IsVerificationFromCPLC = CPLC;
        dto.RegistrationBook = receipt;
        dto.SaleInvoice = SaleInvoice;
        dto.CellNo = $("#txtContactNo").val();


        $.ajax({

            dataType: "json",
            async: true,
            type: 'Get',
            url: '@Url.Content("~/SaleOrder/Insert_PriceOfferNegociation")',
            data: dto,
            success: function (data) {
                debugger
                if (data) {
                    if (data.Success == true) {

                        saveDetailEnquiry();
                    }
                    else {
                        $("#section-confirm").modal("hide")
                        $("#modalMessage").css("background-color", "#e46457");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                    }
                }
            },
            complete: function () {

            },
            error: function (data) {
                $("#section-confirm").modal("hide")
                $("#modalMessage").css("background-color", "#e46457");
                $("#lblMessage").text(data.Message)
                $("#section-message").modal('show');
            }

        });
    }


    function clearfeild() {
        debugger
        $("#txtEngine").val("");
        $("#txtIgnition").val("");
        $("#txtFuel").val("");
        $("#txtDrive").val("");
        $("#txtBrakes").val("");
        $("#txtSuspension").val("");
        $("#txtSteering").val("");
        $("#txtElectrical").val("");
        $("#txtBody").val("");
        $("#txtAc").val("");
        $("#txtopr").val("");
        $("#txtCNG").val("");
        $("#txtOfferDate").val("");
        $("#ddlSource").val("");
        $("#txtRegNo").val("");
        $("#txtRegistrationDate").val("");
        $("#txtInspectionDate").val("");
        $("#txtEngineNo").val("");
        $("#txtChassisNo").val("");
        $("#txtBrandCode").val("");
        $("#txtProductCode").val("");
        $("#txtModelYear").val("");
        $("#txtColorCode").val("");
        $("#txtCusCode").val("");
        $("#ddlVehicleTransmission").val("");
        $("#ddlEmp").val("");
        $("#ddlOfferCategory").val("");
        $("#txtActualPrice").val("");
        $("#txtOfferPrice").val("");
        $("#txtExpectation").val("");
        $("#txtNegociationOffer").val("");
        $("#txtRecoditionCost").val("");
        $("#txtNarration").val("");
        $("#txtBrand").val("");
        $("#txtColor").val("");
        $("#txtProduct").val("");
        $("#txtCustomer").val("");
        $("#txtContactNo").val("");
    }
    function DeleteEnquiry() {
        var leadId = $("#ddlOfferCode").val();

        $.ajax({
            dataType: "json",
            async: true,
            type: 'POST',
            url: '@Url.Content("~/SaleOrder/Delete_PriceOfferNegociation")',
            data: { 'EnquiryId': leadId },
            success: function (data) {
                if (data) {
                    if (data.success == true) {
                        $("#section-confirm-Delete").modal("hide")
                        $("#modalMessage").css("background-color", "#64c344");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                        setTimeout(function () {
                            $('#section-message').modal('hide')
                        }, 4000);
                    } else {
                        $("#section-confirm-Delete").modal("hide")
                        $("#modalMessage").css("background-color", "#e46457");
                        $("#lblMessage").text(data.Message)
                        $("#section-message").modal('show');
                        setTimeout(function () {
                            $('#section-message').modal('hide')
                        }, 4000);

                    }
                }
            },
            complete: function () {

            },
        });

    }

    function saveDetailEnquiry() {
        debugger;
        var dto = {};


        dto.C_Engine =               $("#txtEngine").val();
        dto.C_IgnitionSyatem =       $("#txtIgnition").val();
        dto.C_FuelSystem =           $("#txtFuel").val();
        dto.C_Drivetrain =           $("#txtDrive").val();
        dto.C_Brakes =               $("#txtBrakes").val();
        dto.C_Suspension =           $("#txtSuspension").val();
        dto.C_Steering =             $("#txtSteering").val();
        dto.C_Electrical =           $("#txtElectrical").val();
        dto.C_Body =                 $("#txtBody").val();
        dto.C_ACHeater =             $("#txtAc").val();
        dto.C_OperationOfAccInSecB = $("#txtopr").val();
        dto.C_CNGOperation =         $("#txtCNG").val();
         $.ajax({

            dataType: "json",
            async: true,
            type: 'Get',
            url: '@Url.Content("~/SaleOrder/Insert_PriceOfferNegociation_EvaluationDetail")',
            data: dto,

            success: function (data) {
                debugger;
                if (data.success == true) {
                    $("#section-confirm").modal("hide")
                    $("#modalMessage").css("background-color", "#64c344");
                    $("#lblMessage").text(data.Message)
                    $("#section-message").modal('show');
                    setTimeout(function () {
                        $('#section-message').modal('hide')
                    }, 4000);
                } else {
                    $("#section-confirm").modal("hide")
                    $("#modalMessage").css("background-color", "#e46457");
                    $("#lblMessage").text(data.Message)
                    $("#section-message").modal('show');
                    setTimeout(function () {
                        $('#section-message').modal('hide')
                    }, 4000);
                }
            },
            complete: function () {
                // Get_CurrencyDetailData();


            },

        });
        // $("#txtCurrName").val('');
    }


    $("#btnPrint").click(function () {

        var baseurl = '@Url.Action("Exports")';
        var url = baseurl + '?EnquiryId=' + $("#txtOfferCode").val();
        //window.location.href = url;
        window.open(url, '_blank');

    })


</script>




